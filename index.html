<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-v="1766926231">MANCHESTER Content Studio 2026</title>
    <style>
        :root{--vermelho:#C41E3A;--vermelho-dark:#9B1830;--dourado:#C9A227;--preto:#0a0a0a;--preto2:#111;--preto3:#1a1a1a;--preto4:#222;--branco:#fff;--cinza:#888;--cinza2:#555;--verde:#22c55e;--azul:#3b82f6;--roxo:#a855f7;--laranja:#f97316}
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--preto);color:var(--branco);min-height:100vh}
        .header{display:flex;justify-content:space-between;align-items:center;padding:15px 30px;background:linear-gradient(135deg,var(--preto2),var(--preto));border-bottom:1px solid #222;position:sticky;top:0;z-index:100}
        .logo{display:flex;align-items:center;gap:12px}
        .logo-icon{width:42px;height:42px;background:linear-gradient(135deg,var(--vermelho),var(--vermelho-dark));border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:900;font-style:italic}
        .logo-text{font-size:20px;font-weight:900;letter-spacing:3px}
        .logo-sub{font-size:9px;color:var(--cinza);letter-spacing:1px}
        .header-actions{display:flex;gap:10px}
        .header-btn{padding:8px 16px;background:var(--preto3);border:1px solid #333;border-radius:6px;color:var(--branco);font-size:12px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px}
        .header-btn:hover{border-color:var(--vermelho);background:rgba(196,30,58,0.1)}
        .header-btn.primary{background:var(--vermelho);border-color:var(--vermelho)}
        .layout{display:flex;height:calc(100vh - 72px)}
        .sidebar{width:280px;background:var(--preto2);border-right:1px solid #222;overflow-y:auto;padding:0}
        .month-filter{padding:20px;border-bottom:1px solid #222;background:var(--preto3)}
        .month-filter-title{font-size:10px;color:var(--cinza);letter-spacing:2px;margin-bottom:15px}
        .month-selector{position:relative;width:100%}
        .month-selector-btn{width:100%;padding:15px 20px;background:var(--preto4);border:2px solid #333;border-radius:12px;color:var(--branco);cursor:pointer;display:flex;align-items:center;justify-content:space-between;transition:all .3s}
        .month-selector-btn:hover{border-color:var(--vermelho)}
        .month-selector-left{display:flex;align-items:center;gap:15px}
        .month-selector-num{font-size:28px;font-weight:900;color:var(--vermelho)}
        .month-selector-info h3{font-size:18px;font-weight:700}
        .month-selector-info span{font-size:11px;color:var(--cinza)}
        .month-dropdown{position:absolute;top:100%;left:0;width:100%;background:var(--preto3);border:2px solid var(--vermelho);border-top:none;border-radius:0 0 12px 12px;display:none;z-index:50;max-height:300px;overflow-y:auto}
        .month-dropdown.open{display:block}
        .month-dropdown-item{display:flex;align-items:center;gap:15px;padding:12px 20px;cursor:pointer;transition:all .2s;border-bottom:1px solid #222}
        .month-dropdown-item:hover{background:rgba(196,30,58,0.1)}
        .month-dropdown-item.active{background:rgba(196,30,58,0.2)}
        .month-dropdown-num{font-size:18px;font-weight:900;color:var(--vermelho);width:30px}
        .month-dropdown-info h4{font-size:13px;font-weight:600}
        .month-dropdown-info span{font-size:10px;color:var(--cinza)}
        .month-quick-nav{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:15px}
        .month-quick-btn{padding:10px 5px;background:var(--preto4);border:1px solid #333;border-radius:8px;color:var(--cinza);font-size:10px;font-weight:600;cursor:pointer;transition:all .2s;text-align:center}
        .month-quick-btn:hover{border-color:var(--vermelho);color:var(--branco)}
        .month-quick-btn.active{background:var(--vermelho);border-color:var(--vermelho);color:var(--branco)}
        .sidebar-info{padding:20px}
        .sidebar-info-title{font-size:10px;color:var(--cinza);letter-spacing:2px;margin-bottom:15px}
        .month-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:20px}
        .month-stat-card{background:var(--preto3);border:1px solid #222;border-radius:10px;padding:15px;text-align:center}
        .month-stat-value{font-size:28px;font-weight:900;color:var(--vermelho)}
        .month-stat-label{font-size:9px;color:var(--cinza);text-transform:uppercase;letter-spacing:1px}
        .month-theme-card{background:linear-gradient(135deg,rgba(196,30,58,0.1),var(--preto3));border:1px solid #333;border-radius:12px;padding:20px}
        .month-theme-label{font-size:9px;color:var(--vermelho);letter-spacing:2px;margin-bottom:8px}
        .month-theme-title{font-size:22px;font-weight:900;margin-bottom:10px}
        .month-theme-desc{font-size:12px;color:var(--cinza);line-height:1.6}
        .main{flex:1;overflow-y:auto;padding:25px 30px}
        .main-header{margin-bottom:25px;padding-bottom:20px;border-bottom:1px solid #222}
        .main-title{font-size:28px;font-weight:900;letter-spacing:2px}
        .main-title span{color:var(--vermelho)}
        .posts-list{display:flex;flex-direction:column;gap:12px}
        .post-card{display:flex;align-items:center;gap:20px;padding:18px 20px;background:var(--preto2);border:1px solid #222;border-radius:12px;cursor:pointer;transition:all .25s}
        .post-card:hover{border-color:var(--vermelho);transform:translateX(8px)}
        .post-date{background:var(--preto3);border-radius:8px;padding:10px 12px;text-align:center;min-width:55px}
        .post-date-day{font-size:22px;font-weight:900;color:var(--vermelho)}
        .post-date-month{font-size:9px;color:var(--cinza);text-transform:uppercase}
        .post-info{flex:1}
        .post-type{font-size:10px;color:var(--dourado);font-weight:700;letter-spacing:1px;margin-bottom:5px}
        .post-title{font-weight:600;font-size:15px;margin-bottom:4px}
        .post-desc{font-size:12px;color:var(--cinza)}
        .post-format{background:var(--preto3);padding:6px 12px;border-radius:6px;font-size:10px;color:var(--cinza)}
        .modal-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);z-index:1000;overflow-y:auto}
        .modal-overlay.show{display:flex;justify-content:center;align-items:flex-start;padding:20px}
        .modal{width:100%;max-width:900px;background:var(--preto2);border-radius:16px;border:1px solid #333}
        .modal-header{padding:25px 30px;background:var(--preto3);border-bottom:1px solid #333;display:flex;justify-content:space-between;align-items:flex-start}
        .modal-header-left{flex:1}
        .modal-badge{display:inline-block;padding:4px 12px;background:rgba(196,30,58,0.2);border:1px solid var(--vermelho);border-radius:20px;font-size:10px;color:var(--vermelho);font-weight:700;margin-bottom:12px}
        .modal-title-row{display:flex;align-items:center;gap:15px;margin-bottom:8px;flex-wrap:wrap}
        .modal-date-input{background:var(--preto4);border:1px solid #444;border-radius:6px;padding:8px 12px;color:var(--branco);font-size:14px;width:140px}
        .modal-title-input{flex:1;min-width:200px;background:transparent;border:none;border-bottom:2px solid #333;color:var(--branco);font-size:18px;font-weight:700;padding:5px 0}
        .modal-title-input:focus{outline:none;border-bottom-color:var(--vermelho)}
        .modal-desc{font-size:13px;color:var(--cinza)}
        .modal-close{width:40px;height:40px;background:var(--preto4);border:1px solid #444;border-radius:50%;color:#fff;font-size:18px;cursor:pointer;transition:all .2s}
        .modal-close:hover{border-color:var(--vermelho);color:var(--vermelho)}
        .modal-tabs{display:flex;background:var(--preto3);border-bottom:1px solid #333;flex-wrap:wrap}
        .modal-tab{flex:1;min-width:100px;padding:15px 10px;background:transparent;border:none;color:var(--cinza);font-size:11px;font-weight:600;cursor:pointer;transition:all .2s;border-bottom:3px solid transparent}
        .modal-tab:hover{color:var(--branco)}
        .modal-tab.active{color:var(--vermelho);border-bottom-color:var(--vermelho);background:rgba(196,30,58,0.05)}
        .modal-body{padding:25px 30px;max-height:60vh;overflow-y:auto}
        .content-section{background:var(--preto3);border-radius:12px;overflow:hidden}
        .section-header{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:var(--preto4);border-bottom:1px solid #333}
        .section-title{font-size:12px;font-weight:700;letter-spacing:1px;color:var(--dourado)}
        .copy-btn{padding:8px 16px;background:var(--preto2);border:1px solid #444;border-radius:6px;color:var(--branco);font-size:11px;font-weight:600;cursor:pointer;transition:all .2s}
        .copy-btn:hover{background:var(--vermelho);border-color:var(--vermelho)}
        .copy-btn.copied{background:var(--verde);border-color:var(--verde)}
        .section-body{padding:20px}
        .content-text{font-size:13px;line-height:1.8;white-space:pre-wrap;color:#ddd;font-family:'Courier New',monospace;background:var(--preto);padding:15px;border-radius:8px;max-height:400px;overflow-y:auto}
        .prompt-block{margin-bottom:15px;background:var(--preto);border-radius:10px;border:1px solid #333;overflow:hidden}
        .prompt-block-header{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;background:var(--preto4);border-bottom:1px solid #333}
        .prompt-block-num{width:28px;height:28px;background:var(--vermelho);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;margin-right:10px}
        .prompt-block-title{font-size:12px;font-weight:600;color:var(--dourado);flex:1}
        .prompt-block-content{padding:15px;font-size:12px;line-height:1.7;white-space:pre-wrap;color:#ccc;font-family:'Courier New',monospace;max-height:200px;overflow-y:auto}
        .toast{position:fixed;bottom:30px;right:30px;padding:15px 25px;background:var(--verde);color:#fff;border-radius:10px;font-weight:600;font-size:13px;transform:translateY(100px);opacity:0;transition:all .3s;z-index:2000}
        .toast.show{transform:translateY(0);opacity:1}
        .empty-state{text-align:center;padding:80px 40px;color:var(--cinza)}
        .empty-state h3{font-size:20px;margin-bottom:10px}
        .backup-info{padding:15px;background:var(--preto3);border-radius:8px;margin-top:15px;font-size:11px;color:var(--cinza)}
        .backup-info strong{color:var(--verde)}
        @media(max-width:768px){.sidebar{display:none}.main{padding:15px}}
    </style>
</head>
<body>

<header class="header">
    <div class="logo">
        <div class="logo-icon">M</div>
        <div>
            <div class="logo-text">MANCHESTER</div>
            <div class="logo-sub">Content Studio 2026</div>
        </div>
    </div>
    <div class="header-actions">
        <button class="header-btn" onclick="exportData()">ğŸ’¾ Backup</button>
        <button class="header-btn" onclick="document.getElementById('importFile').click()">ğŸ“‚ Importar</button>
        <input type="file" id="importFile" accept=".json" style="display:none" onchange="importData(event)">
        <button class="header-btn primary" onclick="saveData()">âœ“ Salvar</button>
    </div>
</header>

<div class="layout">
    <aside class="sidebar">
        <div class="month-filter">
            <div class="month-filter-title">SELECIONAR MÃŠS</div>
            <div class="month-selector">
                <button class="month-selector-btn" onclick="toggleDropdown()">
                    <div class="month-selector-left">
                        <div class="month-selector-num" id="selectorNum">01</div>
                        <div class="month-selector-info">
                            <h3 id="selectorName">Janeiro</h3>
                            <span id="selectorTheme">Planejamento</span>
                        </div>
                    </div>
                    <span>â–¼</span>
                </button>
                <div class="month-dropdown" id="monthDropdown"></div>
            </div>
            <div class="month-quick-nav" id="monthQuickNav"></div>
        </div>
        <div class="sidebar-info">
            <div class="sidebar-info-title">VISÃƒO GERAL</div>
            <div class="month-stats">
                <div class="month-stat-card">
                    <div class="month-stat-value" id="statPosts">13</div>
                    <div class="month-stat-label">Posts</div>
                </div>
                <div class="month-stat-card">
                    <div class="month-stat-value" id="statStories">3</div>
                    <div class="month-stat-label">Stories</div>
                </div>
            </div>
            <div class="month-theme-card">
                <div class="month-theme-label">TEMA DO MÃŠS</div>
                <div class="month-theme-title" id="themeTitle">Planejamento</div>
                <div class="month-theme-desc" id="themeDesc">Foco em organizaÃ§Ã£o e preparaÃ§Ã£o.</div>
            </div>
            <div class="backup-info">
                <strong>âœ“ Auto-save ativo</strong><br>
                Dados salvos automaticamente.
            </div>
        </div>
    </aside>
    
    <main class="main">
        <div class="main-header">
            <h1 class="main-title" id="mainTitle">JANEIRO â€” <span>Planejamento</span></h1>
        </div>
        <div class="posts-list" id="postsList"></div>
    </main>
</div>

<div class="modal-overlay" id="modalOverlay" onclick="if(event.target===this)closeModal()">
    <div class="modal">
        <div class="modal-header">
            <div class="modal-header-left">
                <div class="modal-badge" id="modalBadge">POST #01</div>
                <div class="modal-title-row">
                    <input type="date" class="modal-date-input" id="modalDate" onchange="updateDate()">
                    <input type="text" class="modal-title-input" id="modalTitle" onchange="updateTitle()">
                </div>
                <div class="modal-desc" id="modalDesc"></div>
            </div>
            <button class="modal-close" onclick="closeModal()">âœ•</button>
        </div>
        <div class="modal-tabs" id="modalTabs"></div>
        <div class="modal-body" id="modalBody"></div>
    </div>
</div>

<div class="toast" id="toast">âœ“ Copiado!</div>

<script>
var MONTHS = [
    {id:1,name:'Janeiro',theme:'Planejamento',posts:13,stories:3,desc:'OrganizaÃ§Ã£o e preparaÃ§Ã£o para o ano.'},
    {id:2,name:'Fevereiro',theme:'SeguranÃ§a',posts:11,stories:5,desc:'EPIs, normas e prevenÃ§Ã£o.'},
    {id:3,name:'MarÃ§o',theme:'Mulheres',posts:12,stories:0,desc:'Dia da Mulher na construÃ§Ã£o.'},
    {id:4,name:'Abril',theme:'MÃªs do AÃ§o',posts:13,stories:6,desc:'Dia Nacional do AÃ§o.'},
    {id:5,name:'Maio',theme:'IndÃºstria',posts:13,stories:3,desc:'Dia da IndÃºstria.'},
    {id:6,name:'Junho',theme:'SustentÃ¡vel',posts:12,stories:3,desc:'Meio ambiente.'},
    {id:7,name:'Julho',theme:'ConstruÃ§Ã£o',posts:13,stories:0,desc:'TÃ©cnicas construtivas.'},
    {id:8,name:'Agosto',theme:'Soldador',posts:13,stories:0,desc:'Dia do Soldador.'},
    {id:9,name:'Setembro',theme:'Set. Amarelo',posts:13,stories:3,desc:'SaÃºde mental.'},
    {id:10,name:'Outubro',theme:'Out. Rosa',posts:13,stories:3,desc:'ConscientizaÃ§Ã£o.'},
    {id:11,name:'Novembro',theme:'Black Friday',posts:13,stories:6,desc:'PromoÃ§Ãµes.'},
    {id:12,name:'Dezembro',theme:'Retrospectiva',posts:13,stories:5,desc:'BalanÃ§o do ano.'}
];

var POSTS_DATA = {
    1: [
        {
            id: 1,
            date: '2026-01-01',
            type: 'DATA ESPECIAL',
            format: 'Carrossel 5 slides',
            title: 'ğŸ† Feliz 2026! O ano de construir grandes projetos',
            desc: 'Mensagem de ano novo + retrospectiva Manchester',
            narrativa: 'SLIDE 1 â€” CAPA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nTEXTO: "2026 CHEGOU!"\nSUBTEXTO: "E com ele, novas fundaÃ§Ãµes."\n\nSLIDE 2 â€” RETROSPECTIVA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nTEXTO: "Em 2025, entregamos mais de 500 toneladas de aÃ§o."\nNÃšMEROS:\nâ€¢ 500+ toneladas\nâ€¢ 200+ obras\nâ€¢ 30+ anos\n\nSLIDE 3 â€” AGRADECIMENTO\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nTEXTO: "Obrigado a cada engenheiro, construtora e parceiro."\n\nSLIDE 4 â€” COMPROMISSO\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nTEXTO: "Em 2026, seguimos com o mesmo compromisso:"\nâœ“ Qualidade certificada\nâœ“ Prazo respeitado\nâœ“ PreÃ§o justo\n\nSLIDE 5 â€” CTA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nTEXTO: "Bora construir juntos?"\nCTA: "Comenta aqui ğŸ‘‡"',
            imagem: 'PROMPT SLIDE 1 â€” CAPA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nUltra-realistic commercial photography of New Year 2026 celebration for steel company.\n\nCOMPOSITION:\n- Golden fireworks in dark night sky\n- Silhouette of buildings under construction\n- Steel bars forming "2026"\n- Manchester logo bottom-right\n\nCOLOR: Red (#C41E3A), Black (#0a0a0a), Gold (#C9A227)\nCAMERA: Sony A7R IV, 35mm f/1.8\nSTYLE: Cinematic, epic, premium\nASPECT: 1:1 Instagram\n\n---\n\nPROMPT SLIDE 2 â€” RETROSPECTIVA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nClean infographic for construction retrospective.\n\nLAYOUT:\n- Dark background with grid\n- Large "500+" in red\n- Secondary stats below\n\nTYPOGRAPHY: Bold sans-serif\nSTYLE: Modern corporate infographic\n\n---\n\nPROMPT SLIDE 3 â€” AGRADECIMENTO\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nEmotional collage of construction professionals.\n\nSUBJECTS:\n- Engineers with tablets\n- Workers smiling\n- Team handshakes\n\nLIGHTING: Golden hour\nMOOD: Gratitude, pride\n\n---\n\nPROMPT SLIDE 5 â€” CTA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nStrong call-to-action slide.\n\nBACKGROUND: Solid red (#C41E3A)\nTEXT: White, centered\nLOGO: Manchester branding\nSTYLE: Bold, action-oriented',
            video: 'DIREÃ‡ÃƒO DE VÃDEO â€” 15 SEGUNDOS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nTAKE 1 (0:00-0:03) â€” ABERTURA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Drone shot rising over construction at dawn\nCAMERA: Slow push-up, gimbal stabilized\nSOUND: Epic orchestral swell\n\n---\n\nTAKE 2 (0:03-0:08) â€” MONTAGEM\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nSEQUENCE:\n1. Sparks from welding\n2. CNC cutting steel\n3. Manchester truck\n4. Steel framework crane\n5. Worker thumbs up\n\nTRANSITIONS: Quick cuts synced to beat\n\n---\n\nTAKE 3 (0:08-0:12) â€” EQUIPE\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Slow-mo team members smiling\nCAMERA: 50mm portrait, f/1.8\nTEXT: "OBRIGADO POR CONSTRUIR COM A GENTE"\n\n---\n\nTAKE 4 (0:12-0:15) â€” FECHAMENTO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Manchester logo reveal\nTEXT: "2026 â€” Construindo o futuro"\nSOUND: Music resolves',
            tela: 'SLIDE 1:\n"2026 CHEGOU!"\n"E com ele, novas fundaÃ§Ãµes."\n\nSLIDE 2:\n"500+ toneladas entregues"\n"200+ obras atendidas"\n\nSLIDE 3:\n"OBRIGADO"\n\nSLIDE 4:\n"âœ“ Qualidade certificada"\n"âœ“ Prazo respeitado"\n"âœ“ PreÃ§o justo"\n\nSLIDE 5:\n"Qual Ã© seu maior projeto para 2026?"\n"Comenta aqui ğŸ‘‡"',
            legenda: 'ğŸ† FELIZ 2026!\n\nMais um ano comeÃ§a e com ele a certeza de que vamos continuar construindo juntos.\n\nEm 2025, entregamos mais de 500 toneladas de aÃ§o para obras por todo Rio de Janeiro.\n\nObrigado a cada engenheiro, arquiteto e parceiro que confiou na Manchester.\n\nE vocÃª? Qual Ã© o seu maior projeto para 2026?\n\nConta pra gente nos comentÃ¡rios! ğŸ‘‡\n\nğŸ“ (21) 3214-1300\n\n#Manchester #AnoNovo2026 #ConstruÃ§Ã£oCivil #AÃ§o'
        },
        {
            id: 2,
            date: '2026-01-05',
            type: 'PROBLEMA â†’ SOLUÃ‡ÃƒO',
            format: 'Reels 30s',
            title: 'ğŸ˜¤ "Comprei aÃ§o e veio com medida errada"',
            desc: 'Problema comum de obra resolvido',
            narrativa: 'ROTEIRO REELS 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[0:00-0:03] HOOK\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nÃUDIO: "Cara, o aÃ§o chegou errado."\nTEXTO: "ISSO JÃ ACONTECEU COM VOCÃŠ?"\n\n[0:03-0:10] PROBLEMA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nNARRAÃ‡ÃƒO: "Pediu 10mm, veio 8mm."\nTEXTO: "2 SEMANAS PERDIDAS"\n\n[0:10-0:13] TRANSIÃ‡ÃƒO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXTO: "E SE DESSE PRA EVITAR?"\n\n[0:13-0:23] SOLUÃ‡ÃƒO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nNARRAÃ‡ÃƒO: "Na Manchester, conferimos seu projeto inteiro."\nTEXTO: "CONFERÃŠNCIA â†’ CORTE â†’ ENTREGA"\n\n[0:23-0:30] CTA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXTO: "ZERO ERRO. ZERO ATRASO."\nLOGO: Manchester',
            imagem: 'PROMPT THUMBNAIL\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nSplit comparison BEFORE vs AFTER.\n\nLEFT (PROBLEM):\n- Messy construction site\n- Wrong steel bars\n- Frustrated engineer\n- Cold, desaturated colors\n- Text: "MEDIDA ERRADA"\n\nRIGHT (SOLUTION):\n- Clean, organized site\n- Labeled steel bars\n- Satisfied engineer\n- Warm, vibrant colors\n- Text: "MEDIDA CERTA"\n\nSTYLE: Before/after, high contrast\nASPECT: 9:16 for Reels',
            video: 'DIREÃ‡ÃƒO REELS 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCENA 1 â€” HOOK (0:00-0:03)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Close-up engineer frustrated\nCAMERA: 85mm, shallow DOF\nSOUND: Dramatic hit\n\n---\n\nCENA 2 â€” PROBLEMA (0:03-0:10)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nSHOTS:\n- Drone over idle site\n- Wrong measurements\n- Workers waiting\nCOLOR: Desaturated, cold\n\n---\n\nCENA 3 â€” TRANSIÃ‡ÃƒO (0:10-0:13)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Fade to black\nTEXT: Types on character by character\n\n---\n\nCENA 4 â€” SOLUÃ‡ÃƒO (0:13-0:23)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nSHOTS:\n- Computer analysis\n- CNC cutting (slow-mo)\n- Labeling\n- Organized bundles\nCOLOR: Warm, vibrant\n\n---\n\nCENA 5 â€” CTA (0:23-0:30)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Satisfied engineer\nTEXT: "ZERO ERRO"\nLOGO: Manchester',
            tela: '[0:00-0:03]\n"ISSO JÃ ACONTECEU COM VOCÃŠ?"\n\n[0:03-0:10]\n"2 SEMANAS PERDIDAS"\n\n[0:10-0:13]\n"E SE DESSE PRA EVITAR?"\n\n[0:13-0:23]\n"CONFERÃŠNCIA â†’ CORTE â†’ ENTREGA"\n\n[0:23-0:30]\n"ZERO ERRO. ZERO ATRASO."',
            legenda: 'ğŸ˜¤ "O aÃ§o chegou errado. Minha obra parou."\n\nQuantas vezes vocÃª jÃ¡ viveu isso?\n\nPediu 10mm, veio 8mm.\nResultado? 2 semanas perdidas.\n\nNa Manchester Ã© diferente.\n\nAntes de cortar UMA barra:\nâœ… Conferimos seu projeto\nâœ… Validamos medida por medida\nâœ… Identificamos cada peÃ§a\n\nZero erro. Zero atraso.\n\nğŸ“ (21) 3214-1300\n\n#Manchester #ConstruÃ§Ã£oCivil #BelgoPronto'
        },
        {
            id: 3,
            date: '2026-01-07',
            type: 'EDUCATIVO',
            format: 'Carrossel 8 slides',
            title: 'ğŸ“‹ Checklist: Como planejar compra de aÃ§o 2026',
            desc: '5 passos essenciais',
            narrativa: 'CARROSSEL 8 SLIDES\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nSLIDE 1 â€” CAPA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTÃTULO: "CHECKLIST 2026"\nBADGE: "SALVA ESSE POST ğŸ“Œ"\n\nSLIDE 2 â€” PASSO 1\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“ REVISAR PROJETO ESTRUTURAL\nğŸ’¡ "PeÃ§a o arquivo .dwg atualizado"\n\nSLIDE 3 â€” PASSO 2\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ§® CALCULAR QUANTITATIVOS\nğŸ’¡ "Erro no quantitativo = prejuÃ­zo"\n\nSLIDE 4 â€” PASSO 3\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“… PRAZO DE ENTREGA\nâ€¢ Corte/dobra: 3-7 dias\nâ€¢ Armadura: 5-10 dias\n\nSLIDE 5 â€” PASSO 4\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâœ… NORMAS TÃ‰CNICAS\nâ€¢ NBR 7480\nâ€¢ CertificaÃ§Ã£o\n\nSLIDE 6 â€” PASSO 5\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ”„ ALINHAR CRONOGRAMA\nğŸ’¡ "Entregas programadas"\n\nSLIDE 7 â€” DICA BÃ”NUS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ’¡ ANTECIPE A COMPRA\n"PreÃ§o do aÃ§o varia"\n\nSLIDE 8 â€” CTA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n"PRECISA DE AJUDA?"\nğŸ“ (21) 3214-1300',
            imagem: 'PROMPT SLIDE 1 â€” CAPA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nClean infographic cover.\n\nCOMPOSITION:\n- Checklist icon (white on dark)\n- Title "CHECKLIST 2026" bold\n- Badge "SALVA ESSE POST"\n\nBACKGROUND: Red to black gradient\nSTYLE: Modern corporate\n\n---\n\nPROMPT SLIDES 2-6 â€” TEMPLATE\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nConsistent infographic design.\n\nLAYOUT:\n- Dark background\n- Step number: Large, red\n- Icon: White outline\n- Title: Bold white\n- Tip box: Darker bg\n\n---\n\nPROMPT SLIDE 7 â€” BÃ”NUS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nSpecial highlight slide.\n\nBACKGROUND: Dark + gold accent\nICON: Lightbulb\nLABEL: "DICA BÃ”NUS" gold\n\n---\n\nPROMPT SLIDE 8 â€” CTA\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nBACKGROUND: Solid red\nTEXT: White, centered\nLOGO: Manchester',
            video: 'ALTERNATIVA REELS 25s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[0:00-0:02] HOOK\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXT: "5 PASSOS pra nÃ£o errar"\n\n[0:02-0:05] PASSO 1\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Blueprint\nTEXT: "01 REVISE O PROJETO"\n\n[0:05-0:08] PASSO 2\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Calculator\nTEXT: "02 CALCULE QUANTITATIVOS"\n\n[0:08-0:11] PASSO 3\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Calendar\nTEXT: "03 CONSIDERE PRAZO"\n\n[0:11-0:14] PASSO 4\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Certificate\nTEXT: "04 VERIFIQUE NORMAS"\n\n[0:14-0:17] PASSO 5\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Sync\nTEXT: "05 ALINHE CRONOGRAMA"\n\n[0:17-0:22] BÃ”NUS\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nICON: Lightbulb\nTEXT: "ğŸ’¡ ANTECIPE A COMPRA"\n\n[0:22-0:25] CTA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXT: "SALVA ESSE VÃDEO ğŸ“Œ"',
            tela: 'SLIDE 1:\n"CHECKLIST 2026"\n"SALVA ESSE POST ğŸ“Œ"\n\nSLIDE 2:\n"01 ğŸ“ REVISAR PROJETO"\n\nSLIDE 3:\n"02 ğŸ§® CALCULAR QUANTITATIVOS"\n\nSLIDE 4:\n"03 ğŸ“… PRAZO DE ENTREGA"\n\nSLIDE 5:\n"04 âœ… NORMAS TÃ‰CNICAS"\n\nSLIDE 6:\n"05 ğŸ”„ ALINHAR CRONOGRAMA"\n\nSLIDE 7:\n"ğŸ’¡ DICA BÃ”NUS: ANTECIPE"\n\nSLIDE 8:\n"ğŸ“ (21) 3214-1300"',
            legenda: 'ğŸ“‹ CHECKLIST 2026: Como planejar compra de aÃ§o\n\nâœ… PASSO 1: REVISE O PROJETO\nâœ… PASSO 2: CALCULE QUANTITATIVOS\nâœ… PASSO 3: CONSIDERE O PRAZO\nâœ… PASSO 4: VERIFIQUE NORMAS\nâœ… PASSO 5: ALINHE CRONOGRAMA\n\nğŸ’¡ DICA: ANTECIPE A COMPRA\n\nSALVA ESSE POST! ğŸ“Œ\n\nğŸ“ (21) 3214-1300\n\n#Manchester #Checklist #PlanejamentoDeObra'
        },
        {
            id: 4,
            date: '2026-01-10',
            type: 'DATA ESPECIAL',
            format: 'VÃ­deo 30s',
            title: 'ğŸ‘· Dia do Engenheiro Civil',
            desc: 'Homenagem 10/01',
            narrativa: 'ROTEIRO 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[0:00-0:05] ABERTURA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Obras icÃ´nicas\nTEXT: "10 DE JANEIRO"\nMUSIC: Emocional\n\n[0:05-0:15] HOMENAGEM\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Engenheiros trabalhando\nTEXT: "VocÃªs transformam"\n"nÃºmeros em estruturas"\n\n[0:15-0:25] MANCHESTER\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Parceria\nTEXT: "30 anos construindo juntos"\n\n[0:25-0:30] FECHAMENTO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nLOGO: Manchester\nTEXT: "FELIZ DIA! ğŸ‘·"',
            imagem: 'PROMPT IMAGEM\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nInspirational tribute image.\n\nCOMPOSITION:\n- Engineer in foreground\n- Construction site background\n- Golden hour lighting\n\nSUBJECT:\n- Engineer 35-50 years\n- Safety vest, hard hat\n- Proud expression\n\nLIGHTING: Golden hour, heroic\nSTYLE: Cinematic commercial\nASPECT: 1:1 and 9:16',
            video: 'DIREÃ‡ÃƒO 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[0:00-0:05] ABERTURA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n- Drone shots Brazilian construction\n- Time-lapse building rising\n- Music: Emotional piano\n\n[0:05-0:15] MONTAGEM\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n- Engineers reviewing plans\n- Site supervision\n- Team coordination\n\n[0:15-0:25] PARCERIA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n- Manchester delivery\n- Handshake\n\n[0:25-0:30] FECHAMENTO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n- Logo reveal\n- "FELIZ DIA!"',
            tela: '[0:00-0:05]\n"10 DE JANEIRO"\n"DIA DO ENGENHEIRO CIVIL"\n\n[0:05-0:15]\n"VocÃªs transformam"\n"nÃºmeros em estruturas"\n\n[0:15-0:25]\n"30 anos construindo juntos"\n\n[0:25-0:30]\n"FELIZ DIA! ğŸ‘·"',
            legenda: 'ğŸ‘· FELIZ DIA DO ENGENHEIRO CIVIL!\n\n10 de janeiro.\n\nVocÃªs transformam:\nğŸ“ NÃºmeros em estruturas\nğŸ“‹ Projetos em realidade\nğŸ—ï¸ Sonhos em concreto\n\nA Manchester tem orgulho de estar ao lado de vocÃªs hÃ¡ 30 anos.\n\nFELIZ DIA! ğŸ‰\n\nğŸ“ (21) 3214-1300\n\n#DiaDoEngenheiroCivil #Manchester'
        }
    ],
    2: [
        {
            id: 1,
            date: '2026-02-02',
            type: 'PROBLEMA â†’ SOLUÃ‡ÃƒO',
            format: 'Reels 30s',
            title: 'ğŸ˜° "OperÃ¡rio caiu da laje. NÃ£o tinha linha de vida."',
            desc: 'SeguranÃ§a no canteiro',
            narrativa: 'ROTEIRO 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[0:00-0:03] HOOK\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXTO: "ISSO ACONTECEU ONTEM"\nVISUAL: Tela preta\nSOM: Sirene sutil\n\n[0:03-0:10] PROBLEMA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nNARRAÃ‡ÃƒO: "OperÃ¡rio na laje. Sem cinto."\nTEXTO: "SEM LINHA DE VIDA"\n\n[0:10-0:15] CONSEQUÃŠNCIA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXTO: "Fraturas mÃºltiplas"\n"6 meses afastado"\n\n[0:15-0:23] SOLUÃ‡ÃƒO\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nNARRAÃ‡ÃƒO: "SeguranÃ§a Ã© investimento"\nTEXTO: "âœ“ LINHA DE VIDA"\n\n[0:23-0:30] CTA\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXTO: "SUA OBRA TEM?"\nLOGO: Manchester',
            imagem: 'PROMPT THUMBNAIL\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nSafety awareness split image.\n\nLEFT (DANGER):\n- Worker near edge, no protection\n- Red warning tint\n- Text: "SEM PROTEÃ‡ÃƒO"\n\nRIGHT (SAFE):\n- Worker with PPE and safety line\n- Normal colors, green accent\n- Text: "COM PROTEÃ‡ÃƒO"\n\nSTYLE: Commercial safety campaign\nASPECT: 9:16',
            video: 'DIREÃ‡ÃƒO 30s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nCENA 1 â€” HOOK (0:00-0:03)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Tela preta, texto surge\nSOUND: Sirene, impacto\n\nCENA 2 â€” PROBLEMA (0:03-0:10)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: B-roll canteiro, altura\nCOLOR: Desaturado, frio\n\nCENA 3 â€” CONSEQUÃŠNCIA (0:10-0:15)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Capacete no chÃ£o\nMOOD: Emocional\n\nCENA 4 â€” SOLUÃ‡ÃƒO (0:15-0:23)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nVISUAL: Obra organizada, EPIs\nCOLOR: Vibrante, positivo\n\nCENA 5 â€” CTA (0:23-0:30)\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nTEXT: "SUA OBRA TEM?"\nLOGO: Manchester',
            tela: '[0:00-0:03]\n"ISSO ACONTECEU ONTEM"\n\n[0:03-0:10]\n"SEM CINTO"\n"SEM LINHA DE VIDA"\n\n[0:10-0:15]\n"Fraturas mÃºltiplas"\n"6 meses afastado"\n\n[0:15-0:23]\n"âœ“ LINHA DE VIDA"\n"âœ“ CINTO"\n"âœ“ TREINAMENTO"\n\n[0:23-0:30]\n"SUA OBRA TEM?"',
            legenda: 'ğŸ˜° Isso aconteceu ontem em uma obra.\n\nOperÃ¡rio na laje.\nSem cinto. Sem linha de vida.\nQueda de 4 metros.\n\nResultado:\nğŸ’” Fraturas mÃºltiplas\nâ° 6 meses afastado\n\nIsso NÃƒO precisava acontecer.\n\nSeguranÃ§a nÃ£o Ã© custo. Ã‰ INVESTIMENTO.\n\nâœ… Linha de vida\nâœ… Cinto obrigatÃ³rio\nâœ… Treinamento\n\nSUA OBRA TEM?\n\n#SeguranÃ§aNoTrabalho #NR18 #Manchester'
        }
    ]
};

var currentMonth = 1;
var currentTab = 'narrativa';
var currentPost = null;
var dropdownOpen = false;
var allPosts = {};

function init() {
    loadData();
    renderMonthNav();
    renderPosts();
}

function loadData() {
    try {
        var saved = localStorage.getItem('manchester_v3');
        if (saved) {
            allPosts = JSON.parse(saved);
        } else {
            allPosts = JSON.parse(JSON.stringify(POSTS_DATA));
        }
    } catch(e) {
        allPosts = JSON.parse(JSON.stringify(POSTS_DATA));
    }
}

function saveData() {
    try {
        localStorage.setItem('manchester_v3', JSON.stringify(allPosts));
        showToast('âœ“ Salvo!');
    } catch(e) {
        showToast('Erro ao salvar');
    }
}

function exportData() {
    var data = {version: '3.0', date: new Date().toISOString(), posts: allPosts};
    var blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = 'manchester_backup_' + new Date().toISOString().split('T')[0] + '.json';
    a.click();
    showToast('âœ“ Backup exportado!');
}

function importData(event) {
    var file = event.target.files[0];
    if (!file) return;
    var reader = new FileReader();
    reader.onload = function(e) {
        try {
            var data = JSON.parse(e.target.result);
            if (data.posts) {
                allPosts = data.posts;
                localStorage.setItem('manchester_v3', JSON.stringify(allPosts));
                renderPosts();
                showToast('âœ“ Importado!');
            }
        } catch(err) {
            showToast('Arquivo invÃ¡lido');
        }
    };
    reader.readAsText(file);
}

function renderMonthNav() {
    var month = MONTHS[currentMonth - 1];
    document.getElementById('selectorNum').textContent = String(month.id).padStart(2, '0');
    document.getElementById('selectorName').textContent = month.name;
    document.getElementById('selectorTheme').textContent = month.theme;
    document.getElementById('statPosts').textContent = month.posts;
    document.getElementById('statStories').textContent = month.stories;
    document.getElementById('themeTitle').textContent = month.theme;
    document.getElementById('themeDesc').textContent = month.desc;
    
    var dropdownHtml = '';
    for (var i = 0; i < MONTHS.length; i++) {
        var m = MONTHS[i];
        dropdownHtml += '<div class="month-dropdown-item' + (m.id === currentMonth ? ' active' : '') + '" onclick="selectMonth(' + m.id + ')">' +
            '<div class="month-dropdown-num">' + String(m.id).padStart(2, '0') + '</div>' +
            '<div class="month-dropdown-info"><h4>' + m.name + '</h4><span>' + m.theme + '</span></div>' +
            '</div>';
    }
    document.getElementById('monthDropdown').innerHTML = dropdownHtml;
    
    var quickHtml = '';
    for (var i = 0; i < MONTHS.length; i++) {
        var m = MONTHS[i];
        quickHtml += '<button class="month-quick-btn' + (m.id === currentMonth ? ' active' : '') + '" onclick="selectMonth(' + m.id + ')">' +
            m.name.substring(0, 3).toUpperCase() + '</button>';
    }
    document.getElementById('monthQuickNav').innerHTML = quickHtml;
}

function toggleDropdown() {
    dropdownOpen = !dropdownOpen;
    document.getElementById('monthDropdown').classList.toggle('open', dropdownOpen);
}

function selectMonth(id) {
    currentMonth = id;
    dropdownOpen = false;
    document.getElementById('monthDropdown').classList.remove('open');
    renderMonthNav();
    renderPosts();
}

function renderPosts() {
    var month = MONTHS[currentMonth - 1];
    document.getElementById('mainTitle').innerHTML = month.name.toUpperCase() + ' â€” <span>' + month.theme + '</span>';
    
    var posts = allPosts[currentMonth] || [];
    var container = document.getElementById('postsList');
    
    if (posts.length === 0) {
        container.innerHTML = '<div class="empty-state"><h3>ğŸš§ Em desenvolvimento</h3><p>Posts de ' + month.name + ' serÃ£o adicionados.</p></div>';
        return;
    }
    
    posts.sort(function(a, b) { return new Date(a.date) - new Date(b.date); });
    
    var monthNames = ['JAN','FEV','MAR','ABR','MAI','JUN','JUL','AGO','SET','OUT','NOV','DEZ'];
    var html = '';
    
    for (var i = 0; i < posts.length; i++) {
        var p = posts[i];
        var d = new Date(p.date);
        html += '<div class="post-card" onclick="openModal(' + p.id + ')">' +
            '<div class="post-date">' +
            '<div class="post-date-day">' + String(d.getDate()).padStart(2, '0') + '</div>' +
            '<div class="post-date-month">' + monthNames[d.getMonth()] + '</div>' +
            '</div>' +
            '<div class="post-info">' +
            '<div class="post-type">' + p.type + '</div>' +
            '<div class="post-title">' + p.title + '</div>' +
            '<div class="post-desc">' + p.desc + '</div>' +
            '</div>' +
            '<div class="post-format">' + p.format + '</div>' +
            '</div>';
    }
    
    container.innerHTML = html;
}

function openModal(id) {
    var posts = allPosts[currentMonth] || [];
    currentPost = null;
    for (var i = 0; i < posts.length; i++) {
        if (posts[i].id === id) {
            currentPost = posts[i];
            break;
        }
    }
    if (!currentPost) return;
    
    document.getElementById('modalBadge').textContent = 'POST #' + String(currentPost.id).padStart(2, '0') + ' Â· ' + currentPost.format.toUpperCase();
    document.getElementById('modalDate').value = currentPost.date;
    document.getElementById('modalTitle').value = currentPost.title;
    document.getElementById('modalDesc').textContent = currentPost.desc;
    
    var tabs = [
        {key: 'narrativa', icon: 'ğŸ“', label: 'NARRATIVA'},
        {key: 'imagem', icon: 'ğŸ–¼ï¸', label: 'IMAGEM'},
        {key: 'video', icon: 'ğŸ¬', label: 'VÃDEO'},
        {key: 'tela', icon: 'ğŸ“º', label: 'TELA'},
        {key: 'legenda', icon: 'ğŸ“±', label: 'LEGENDA'}
    ];
    
    var tabsHtml = '';
    for (var i = 0; i < tabs.length; i++) {
        var t = tabs[i];
        tabsHtml += '<button class="modal-tab' + (t.key === currentTab ? ' active' : '') + '" onclick="switchTab(\'' + t.key + '\')">' +
            t.icon + ' ' + t.label + '</button>';
    }
    document.getElementById('modalTabs').innerHTML = tabsHtml;
    
    renderTabContent();
    document.getElementById('modalOverlay').classList.add('show');
}

function closeModal() {
    document.getElementById('modalOverlay').classList.remove('show');
}

function switchTab(tab) {
    currentTab = tab;
    var tabs = document.querySelectorAll('.modal-tab');
    for (var i = 0; i < tabs.length; i++) {
        tabs[i].classList.remove('active');
        if (tabs[i].textContent.toLowerCase().indexOf(tab) > -1 || 
            (tab === 'narrativa' && tabs[i].textContent.indexOf('NARRATIVA') > -1) ||
            (tab === 'imagem' && tabs[i].textContent.indexOf('IMAGEM') > -1) ||
            (tab === 'video' && tabs[i].textContent.indexOf('VÃDEO') > -1) ||
            (tab === 'tela' && tabs[i].textContent.indexOf('TELA') > -1) ||
            (tab === 'legenda' && tabs[i].textContent.indexOf('LEGENDA') > -1)) {
            tabs[i].classList.add('active');
        }
    }
    
    var allTabs = document.querySelectorAll('.modal-tab');
    for (var i = 0; i < allTabs.length; i++) {
        allTabs[i].classList.remove('active');
    }
    allTabs[['narrativa','imagem','video','tela','legenda'].indexOf(tab)].classList.add('active');
    
    renderTabContent();
}

function renderTabContent() {
    var content = currentPost[currentTab] || 'ConteÃºdo nÃ£o disponÃ­vel';
    var body = document.getElementById('modalBody');
    
    var titles = {
        narrativa: 'ğŸ“ NARRATIVA / ROTEIRO',
        imagem: 'ğŸ–¼ï¸ PROMPTS DE IMAGEM',
        video: 'ğŸ¬ DIREÃ‡ÃƒO DE VÃDEO',
        tela: 'ğŸ“º TEXTO NA TELA',
        legenda: 'ğŸ“± LEGENDA INSTAGRAM'
    };
    
    // Para imagem e vÃ­deo, separar blocos
    if ((currentTab === 'imagem' || currentTab === 'video') && content.length > 100) {
        var blocks = splitIntoBlocks(content);
        
        if (blocks.length > 1) {
            var html = '<div class="content-section"><div class="section-header">' +
                '<div class="section-title">' + titles[currentTab] + ' (' + blocks.length + ' blocos)</div>' +
                '<button class="copy-btn" onclick="copyAll()">ğŸ“‹ Copiar Tudo</button></div></div>';
            
            for (var i = 0; i < blocks.length; i++) {
                html += '<div class="prompt-block">' +
                    '<div class="prompt-block-header">' +
                    '<div style="display:flex;align-items:center">' +
                    '<div class="prompt-block-num">' + (i + 1) + '</div>' +
                    '<div class="prompt-block-title">' + blocks[i].title + '</div>' +
                    '</div>' +
                    '<button class="copy-btn" onclick="copyBlock(' + i + ')">ğŸ“‹ Copiar</button>' +
                    '</div>' +
                    '<div class="prompt-block-content" id="block' + i + '">' + escapeHtml(blocks[i].content) + '</div>' +
                    '</div>';
            }
            
            body.innerHTML = html;
            return;
        }
    }
    
    // RenderizaÃ§Ã£o padrÃ£o
    body.innerHTML = '<div class="content-section">' +
        '<div class="section-header">' +
        '<div class="section-title">' + titles[currentTab] + '</div>' +
        '<button class="copy-btn" onclick="copyAll()">ğŸ“‹ Copiar</button>' +
        '</div>' +
        '<div class="section-body">' +
        '<div class="content-text" id="contentText">' + escapeHtml(content) + '</div>' +
        '</div></div>';
}

function splitIntoBlocks(content) {
    var blocks = [];
    var parts = content.split(/\n---\n|\n={10,}\n/);
    
    for (var i = 0; i < parts.length; i++) {
        var part = parts[i].trim();
        if (part.length > 20) {
            var lines = part.split('\n');
            var title = lines[0].replace(/[â•â”â”€]/g, '').trim() || 'BLOCO ' + (i + 1);
            if (title.length > 50) title = title.substring(0, 50) + '...';
            blocks.push({title: title, content: part});
        }
    }
    
    if (blocks.length === 0) {
        blocks.push({title: 'CONTEÃšDO', content: content});
    }
    
    return blocks;
}

function escapeHtml(text) {
    var div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

function copyBlock(index) {
    var el = document.getElementById('block' + index);
    if (el) {
        navigator.clipboard.writeText(el.textContent).then(function() {
            showToast('âœ“ Bloco ' + (index + 1) + ' copiado!');
        });
    }
}

function copyAll() {
    var content = currentPost[currentTab];
    navigator.clipboard.writeText(content).then(function() {
        showToast('âœ“ Copiado!');
    });
}

function updateDate() {
    var newDate = document.getElementById('modalDate').value;
    if (currentPost && newDate) {
        currentPost.date = newDate;
        saveData();
        renderPosts();
    }
}

function updateTitle() {
    var newTitle = document.getElementById('modalTitle').value;
    if (currentPost && newTitle) {
        currentPost.title = newTitle;
        saveData();
        renderPosts();
    }
}

function showToast(msg) {
    var toast = document.getElementById('toast');
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(function() {
        toast.classList.remove('show');
    }, 2000);
}

document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') closeModal();
});

document.addEventListener('click', function(e) {
    if (dropdownOpen && !e.target.closest('.month-selector')) {
        dropdownOpen = false;
        document.getElementById('monthDropdown').classList.remove('open');
    }
});

init();
</script>

</body>
</html>
